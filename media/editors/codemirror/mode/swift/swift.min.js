!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(a){return/^\s*(.*?)\s*$/.exec(a)[1]}function c(a,b){for(var c=-1,d=1,f=a.split(e),g=0;g<f.length;g++){for(var h=1;h<=f[g].length;h++)d==b&&(c=g),d++;d++}var i=["",""];return 0==b?(i[1]=f[0],i[0]=null):(i[1]=f[c],i[0]=f[c-1]),i}var d=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," ","\\."],e=new RegExp(d.join("|"),"g");a.defineMode("swift",function(){var a=["var","let","class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"],d=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"],f=["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"],g=["0","1","2","3","4","5","6","7","8","9"],h=["+","-","/","*","%","=","|","&","<",">"],i=[";",",",".","(",")","{","}","[","]"],j=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,k=/^[_A-Za-z$][_A-Za-z$0-9]*/,l=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,m=/^(\/{3}|\/)/;return{startState:function(){return{prev:!1,string:!1,escape:!1,inner:!1,comment:!1,num_left:0,num_right:0,doubleString:!1,singleString:!1}},token:function(n,o){if(n.eatSpace())return null;var p=n.next();if(o.string)return o.escape?(o.escape=!1,"string"):('"'==p&&o.doubleString&&!o.singleString||"'"==p&&!o.doubleString&&o.singleString)&&!o.escape?(o.string=!1,o.doubleString=!1,o.singleString=!1,"string"):"\\"==p&&"("==n.peek()?(o.inner=!0,o.string=!1,"keyword"):"\\"==p&&"("!=n.peek()?(o.escape=!0,o.string=!0,"string"):"string";if(o.comment)return"*"==p&&"/"==n.peek()?(o.prev="*","comment"):"/"==p&&"*"==o.prev?(o.prev=!1,o.comment=!1,"comment"):"comment";if("/"==p){if("/"==n.peek())return n.skipToEnd(),"comment";if("*"==n.peek())return o.comment=!0,"comment"}if("("==p&&o.inner)return o.num_left++,null;if(")"==p&&o.inner)return o.num_right++,o.num_left==o.num_right&&(o.inner=!1,o.string=!0),null;var q=c(n.string,n.pos),r=q[1],s=q[0];if(h.indexOf(p+"")>-1)return"operator";if(i.indexOf(p)>-1)return"punctuation";if("undefined"!=typeof r){if(r=b(r),"undefined"!=typeof s&&(s=b(s)),"#"==r.charAt(0))return null;if(f.indexOf(r)>-1)return"def";if(d.indexOf(r)>-1)return"atom";if(g.indexOf(r)>-1)return"number";if((g.indexOf(r.charAt(0)+"")>-1||h.indexOf(r.charAt(0)+"")>-1)&&g.indexOf(p)>-1)return"number";if(a.indexOf(r)>-1||a.indexOf(r.split(e)[0])>-1)return"keyword";if(a.indexOf(s)>-1)return"def"}if('"'==p&&!o.doubleString)return o.string=!0,o.doubleString=!0,"string";if("'"==p&&!o.singleString)return o.string=!0,o.singleString=!0,"string";if("("==p&&o.inner&&o.num_left++,")"==p&&o.inner)return o.num_right++,o.num_left==o.num_right&&(o.inner=!1,o.string=!0),null;if(n.match(/^-?[0-9\.]/,!1)){if(n.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)||n.match(/^-?\d+\.\d*/)||n.match(/^-?\.\d+/))return"."==n.peek()&&n.backUp(1),"number";if(n.match(/^-?0x[0-9a-f]+/i)||n.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)||n.match(/^-?0(?![\dx])/i))return"number"}if(n.match(m)){if("/"!=n.current()||n.match(/^.*\//,!1))return"string";n.backUp(1)}return n.match(j)?"punctuation":n.match(k)?"variable":n.match(l)?"property":"variable"}}}),a.defineMIME("text/x-swift","swift")});